
<div class="sk-circle" *ngIf="spinner">
    <div class="sk-circle1 sk-child"></div>
    <div class="sk-circle2 sk-child"></div>
    <div class="sk-circle3 sk-child"></div>
    <div class="sk-circle4 sk-child"></div>
    <div class="sk-circle5 sk-child"></div>
    <div class="sk-circle6 sk-child"></div>
    <div class="sk-circle7 sk-child"></div>
    <div class="sk-circle8 sk-child"></div>
    <div class="sk-circle9 sk-child"></div>
    <div class="sk-circle10 sk-child"></div>
    <div class="sk-circle11 sk-child"></div>
    <div class="sk-circle12 sk-child"></div>
</div>

<div *ngIf="!spinner">

    <jw-modal id="exp-lesson-modal" class="challenge__c__modal">
        <div class="challenge__c__modal--content">
            <header class="popup-container popup-teal"> 
                <h2>&nbsp;</h2>
            </header>
            <div class="popup-container popup-body">
                <h3 class="ch-jumbo-acu3 primary-color">Congratulations,‚Ä®you just finished Tell your story.  üéâ </h3>
            </div>
            <footer class="popup-container popup-footer">
                <button class="ch-btn-success-journey" (click)="onExperiencePage()">Close</button>
            </footer>
        </div>
    </jw-modal>

    <header>
        <div class="challenge__member">
            <nav class="navbar navbar-default challenge__member--custom-navbar">
                <div class="container">
                    <div class="container-fluid challenge__member--nav-container">
                        <div class="navbar-header">
                            <a class="navbar-brand challenge__member--custom-navbar-brand pointer">
                                <img class="product-page-logo" alt="Brand" src="https://challenge.com/preview/wp-content/themes/pruvit-challenge/learning-member/assets/img/challenge-member-desktop-logo.png">
                            </a>
                        </div>

                        <div class="back__icon__desktop">
                            <a (click)="onExperiencePage()" class="back__icon pointer"> 
                            <i style="color: #000;" class="fal fa-arrow-left"></i>
                            </a> 
                        </div>

                        <div class="navbar-links">
                            <ul class="product-page-links">
                                <li>
                                    <a *ngIf="!userLoggedIn" [href]="(redirectUrl) ? redirectUrl : 'javascript: void(0);'" class="ch-jumbo-rift2 ch-black-color pointer">LOG IN</a>
                                    <a *ngIf="userLoggedIn" (click)="onClickSignOut()" class="ch-jumbo-rift2 ch-black-color pointer">LOG OUT</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <div class="challenge__member--mobile">
            <nav class="navbar navbar-default challenge__member--mobile--bg"> 
                <div class="container-fluid"> 
                    <div class="navbar-header"> 
                        <button (click)="onExperiencePage()" type="button" class="navbar-toggle collapsed challenge__member--mobile--button pointer"> 
                            <i style="color: #fff" class="fal fa-arrow-left"></i>
                        </button>

                        <a class="navbar-brand challenge__member--mobile--brand">
                            <img class="challenge__member--mobile--brand--img" alt="Brand" src="https://challenge.com/preview/wp-content/themes/pruvit-challenge/learning-member/assets/img/challenge-member-logo.png">
                        </a> 
                    </div> 
                </div> 
            </nav>
        </div>
    </header>

    <main>
        <section class="section__challenge__compleate chellenge__compleate--details">

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-1'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">About yourself ‚úèÔ∏è</h1>
                    <figure class="challenge__member--body">
                        <div class="form-group ch-m-from-group">
                            <input [(ngModel)]="newUserData.creator.firstName" type="text" class="form-control ch-m-form-control" placeholder="Enter your name">
                        </div>
                        <div class="form-group ch-m-from-group">
                            <input [(ngModel)]="newUserData.creator.profession" type="text" class="form-control ch-m-form-control" placeholder="Enter your occupation">
                        </div>
                        <div class="select form-group ch-m-from-group">
                            <input [(ngModel)]="userData.birthDate" class="form-control ch-m-form-control" type="text" placeholder="Date of birth" [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY'}" bsDatepicker>
                        </div>
                        <div class="select form-group ch-m-from-group">
                            <input [(ngModel)]="userData.birthYear" class="form-control ch-m-form-control" type="text" placeholder="Year of birth" [bsConfig]="{ dateInputFormat: 'YYYY'}" minMode="year" bsDatepicker>
                        </div>
                        
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onNextLesson('exp-lesson-1', 'exp-lesson-2')" class="ch-btn-nextlesson">
                        <p><span class="ch-btn-nextlesson--top">next lesson</span><span class="ch-btn-nextlesson--bottom">In a nutshell</span></p>
                    </button>
                </div>
            </div>

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-2'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">In a nutshell üìù</h1>
                    <figure class="challenge__member--body">
                        <div class="form-group ch-m-from-group">
                            <textarea [(ngModel)]="newUserData.shortDescription" class="form-control ch-member-acu-20-28 challenge__member-textarea" placeholder="Tell people how you feel about your new healthy lifestyle in 420 words."></textarea>
                        </div>
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onNextLesson('exp-lesson-2', 'exp-lesson-3')" class="ch-btn-nextlesson">
                        <p><span class="ch-btn-nextlesson--top">next lesson</span><span class="ch-btn-nextlesson--bottom">Submit a video</span></p>
                    </button>
                </div>
            </div>

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-3'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">Submit a video üé•</h1>
                    <figure class="challenge__member--body">
                        <p class="ch-member-acu-18-24 ch-brand-gray">Remember, video is the most personal ‚Ä®and impactful way to share your experience.</p>
                        <div class="form__radio">
                            <div class="form__radio-group">
                                <input (click)="onClickRadio('option1')" type="radio" class="form__radio-input" [checked]="videoOptionChecked('option1')" id="upload" name="video">
                                <label for="upload" class="form__radio-label">
                                    <span class="form__radio-button"></span>Upload video
                                </label>
                            </div>
                            <div class="form__radio-group">
                                <input (click)="onClickRadio('option2')" type="radio" class="form__radio-input" [checked]="videoOptionChecked('option2')" id="url" name="video">
                                <label for="url" class="form__radio-label">
                                    <span class="form__radio-button"></span>Use existing video (URL)
                                </label>
                            </div>
                        </div>
                        <span *ngIf="contentValue == 'option1'">
                            <div *ngIf="!videoURL" class="video__content-select">
                                    <input (change)="onVideoFileSelect($event)" #videoFile style="display: none;" type="file" id="videoUpload">
                                    <p class="ch-member-acu-24-29 ch-dark-gray video__content-select-text">Upload a video from your camera roll.</p>
                                    <button (click)="videoFile.click()" class="ch-m-upload-btn video__content-select-button">upload</button>
                                    <progressbar *ngIf="uploadStatus.status" max="200" [value]="200" type={{uploadStatus.type}} [striped]="true" [animate]="true"><i>{{uploadStatus.text}}</i></progressbar>
                            </div>
                            <div *ngIf="videoURL" class="text-center">
                                <cite class="vi-video-banner">
                                    <div class="wistia_responsive_padding" style="max-width:394px; padding:56.25% 0 0 0;position:relative;">
                                        <div class="wistia_responsive_wrapper" style="height:227px;left:0;position:absolute;top:0;width:100%;">
                                            <div class="wistia_embed wistia_async_{{videoURL}}" videoFoam=true style="width:100%;height:100%;">&nbsp;
                                            </div>
                                        </div>
                                    </div>
                                </cite>
                                <div style="margin-top: 50px;" class="text-center">
                                    <p class="ch-member-acu-18-24 ch-brand-gray"><a class="pointer" (click)="removeExperienceVideo()">Remove video</a></p>
                                </div>
                            </div>
                        </span>
                        <div *ngIf="contentValue == 'option2'" class="video__content-url text-center">
                            <div class="form-group ch-m-from-group">
                                <input [(ngModel)]="userData.videoURL" type="text" class="form-control ch-m-form-control" id="" placeholder="" placeholder="youtube video URL">
                            </div>
                            <!-- <button (click)="onUploadVideoByUrl()" class="ch-m-upload-btn video__content-select-button">submit</button> -->
                        </div>
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onNextLesson('exp-lesson-3', 'exp-lesson-4')" class="ch-btn-nextlesson">
                        <p><span class="ch-btn-nextlesson--top">next lesson</span><span class="ch-btn-nextlesson--bottom">Before & better photo üôå</span></p>
                    </button>
                </div>
            </div>

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-4'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">Before & better photo  üôå</h1>
                    <figure class="challenge__member--body">
                        <p class="ch-member-acu-18-24 ch-brand-gray">Your Experience could inspire ‚Ä®others to take the Challenge.</p>
                        <div class="form__radio">
                            <div class="form__radio-group">
                                <input (click)="onClickImageRadio('option1')" type="radio" class="form__radio-input" [checked]="imageOptionChecked('option1')" id="photo-pair" name="image">
                                <label for="photo-pair" class="form__radio-label">
                                    <span class="form__radio-button"></span>Upload before & better photos
                                </label>
                            </div>
                            <div class="form__radio-group">
                                <input (click)="onClickImageRadio('option2')" type="radio" class="form__radio-input" [checked]="imageOptionChecked('option2')" id="photo-single" name="image">
                                <label for="photo-single" class="form__radio-label">
                                    <span class="form__radio-button"></span>Upload custom collage
                                </label>
                            </div>
                        </div>
                        <div *ngIf="imageSelectedValue == 'option1'" class="row">
                            <div class="col-md-6 col-xs-6 video__custom-right-row">
                                <div *ngIf="!pairPhoto.beforePhotoURL" class="video__content-select">
                                    <input (change)="onFileSelect($event, 'before')" #imageFile1 style="display: none;" type="file" id="imageUpload1">
                                    <p class="ch-member-acu-20-29-b ch-dark-gray video__content-select-text">Upload a custom image</p>
                                    <button (click)="imageFile1.click()" class="ch-m-upload-btn video__content-select-button">upload</button>
                                </div>

                                <div *ngIf="pairPhoto.beforePhotoURL">
                                    <img class="img-responsive" src="{{pairPhoto.beforePhotoURL}}">
                                    <div style="margin-top: 50px;" class="text-center">
                                        <p class="ch-member-acu-18-24 ch-brand-gray"><a class="pointer" (click)="removeBeforePhoto()">Remove</a></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-6 video__custom-left-row">
                                <div *ngIf="!pairPhoto.afterPhotoURL" class="video__content-select">
                                    <input (change)="onFileSelect($event, 'after')" #imageFile2 style="display: none;" type="file" id="imageUpload2">
                                    <p class="ch-member-acu-20-29-b ch-dark-gray video__content-select-text">Upload a custom image</p>
                                    <button (click)="imageFile2.click()" class="ch-m-upload-btn video__content-select-button">upload</button>
                                </div>
                                <div *ngIf="pairPhoto.afterPhotoURL">
                                    <img class="img-responsive" src="{{pairPhoto.afterPhotoURL}}">
                                    <div style="margin-top: 50px;" class="text-center">
                                        <p class="ch-member-acu-18-24 ch-brand-gray"><a class="pointer" (click)="removeAfterPhoto()">Remove</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="imageSelectedValue == 'option2'" class="video__content-url">
                            <div *ngIf="!singlePhoto.photoURL" class="video__content-select">
                                <input (change)="onFileSelect($event, '')" #imageFile3 style="display: none;" type="file" id="imageUpload3">
                                <p class="ch-member-acu-20-29-b ch-dark-gray video__content-select-text">Upload a custom image</p>
                                <button (click)="imageFile3.click()" class="ch-m-upload-btn video__content-select-button">upload</button>
                            </div>
                            <div *ngIf="singlePhoto.photoURL">
                                <img class="img-responsive" src="{{singlePhoto.photoURL}}">
                                <div style="margin-top: 50px;" class="text-center">
                                    <p class="ch-member-acu-18-24 ch-brand-gray"><a class="pointer" (click)="removePairPhoto()">Remove</a></p>
                                </div>
                            </div>
                        </div>
                        <progressbar *ngIf="uploadStatus.status" max="200" [value]="200" type={{uploadStatus.type}} [striped]="true" [animate]="true"><i>{{uploadStatus.text}}</i></progressbar>
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onNextLesson('exp-lesson-4', 'exp-lesson-5')" class="ch-btn-nextlesson">
                        <p><span class="ch-btn-nextlesson--top">next lesson</span><span class="ch-btn-nextlesson--bottom">I felt BETTER‚Ä¶? üëÄ</span></p>
                    </button>
                </div>
            </div>

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-5'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">I felt BETTER‚Ä¶? üëÄ</h1>
                    <figure class="challenge__member--body">
                        <p class="ch-member-acu-18-24 ch-brand-gray">Select all options that apply.</p>
                        <div class="better__content">
                            <div class="better__content--btns text-center">

                                <button (click)="onBenefitSelect()" *ngFor="let benefit of experienceBenefits" [(ngModel)]="benefitOBJ[benefit.benefitId]" btnCheckbox class="ch-m-better-btn">{{benefit.description}}</button>
                                <!-- <button [(ngModel)]="userData.checkModel.fat" btnCheckbox class="ch-m-better-btn">Fat Loss</button>
                                <button [(ngModel)]="userData.checkModel.energy" btnCheckbox class="ch-m-better-btn">Energy</button>
                                <button [(ngModel)]="userData.checkModel.performance" btnCheckbox class="ch-m-better-btn">Performance</button>
                                <button [(ngModel)]="userData.checkModel.mood" btnCheckbox class="ch-m-better-btn">Mood</button> -->
                            </div>
                        </div>
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onNextLesson('exp-lesson-5', 'exp-lesson-6')" class="ch-btn-nextlesson">
                        <p><span class="ch-btn-nextlesson--top">next lesson</span><span class="ch-btn-nextlesson--bottom">Recipe hacks üöÄ</span></p>
                    </button>
                </div>
            </div>

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-6'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">Recipe hacks üöÄ</h1>
                    <figure class="challenge__member--body">
                        <div class="form-group ch-m-from-group">
                            <textarea [(ngModel)]="newUserData.productDescription" class="form-control ch-member-acu-20-28 challenge__member-textarea" placeholder="Write your favourite hacks"></textarea>
                        </div>
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onNextLesson('exp-lesson-6', 'exp-lesson-7')" class="ch-btn-nextlesson">
                        <p><span class="ch-btn-nextlesson--top">next lesson</span><span class="ch-btn-nextlesson--bottom">Inspire others üìù</span></p>
                    </button>
                </div>
            </div>

            <div [@slideInOut] *ngIf="expLessonID == 'exp-lesson-7'" class="container">
                <div class="chellenge__compleate--details--text">
                    <h1 class="ch-member-acu-24-29 ch-black-color chellenge__compleate--details--title">Inspire others üìù</h1>
                    <figure class="challenge__member--body">
                        <p class="ch-member-acu-18-24 ch-brand-gray inspire-others-text">Tell people your inspiring story about how the Pr√ºvit community and products have helped you build a healthy lifestyle.</p>
                        <div class="form-group ch-m-from-group">
                            <textarea [(ngModel)]="newUserData.longDescription" class="form-control ch-member-acu-20-28 challenge__member-textarea" placeholder="Enter to tell people more about your experience"></textarea>
                        </div>
                    </figure>
                </div>
                <div class="text-center">
                    <button (click)="onCompleteExpModal('exp-lesson-7')" class="ch-btn-success">Complete section</button>
                </div>
            </div>

        </section>
    </main>
</div>